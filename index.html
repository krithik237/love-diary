<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#ff6f91">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="mobile-web-app-capable" content="yes">

  <title>The Love Diary</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: #fffafc;
      color: #4a2c2a;
      margin: 0;
      padding: 0;
    }

    header {
      text-align: center;
      background-color: #ffe0e6;
      padding: 2rem 1rem;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }

    header h1 {
      margin: 0;
      font-size: 2.5rem;
      font-weight: 700;
      color: #b1004b;
    }

    .container {
      max-width: 800px;
      margin: 2rem auto;
      padding: 1rem;
    }

    form {
      background-color: #fff0f5;
      padding: 1rem;
      border-radius: 12px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
      margin-bottom: 2rem;
    }

    form input, form textarea {
      width: 100%;
      padding: 0.7rem;
      margin-top: 0.5rem;
      border-radius: 8px;
      border: 1px solid #ccc;
      font-size: 1rem;
      margin-bottom: 1rem;
    }

    form button {
      background-color: #e75480;
      color: white;
      border: none;
      padding: 0.7rem 1.5rem;
      border-radius: 8px;
      cursor: pointer;
      font-size: 1rem;
    }

    .entries {
      display: flex;
      flex-direction: column;
      gap: 1.5rem;
    }

    .entry {
      background: #fff;
      border-left: 5px solid #ff6f91;
      padding: 1rem;
      border-radius: 10px;
      box-shadow: 0 1px 4px rgba(0,0,0,0.1);
    }

    .entry img {
      max-width: 100%;
      height: auto;
      margin-top: 1rem;
      border-radius: 8px;
    }

    @media (max-width: 600px) {
      header h1 {
        font-size: 2rem;
      }
    }
  </style>
</head>
<body>
  <header>
    <h1>üíñ The Love Diary üíñ</h1>
  </header>

  <div class="container">
    <form id="memoryForm">
      <label for="date">Date of Memory:</label>
      <input type="date" id="date" required />

      <label for="event">Describe the Memory:</label>
      <textarea id="event" rows="4" placeholder="Your special moment..." required></textarea>

      <label for="image">Upload an Image:</label>
      <input type="file" id="image" accept="image/*" />

      <button type="submit">Add to Diary</button>
    </form>
    <div id="memory-list"></div>


    <div class="entries" id="entriesContainer"></div>
  </div>

 <script>
  // Function to save a new memory
  function saveMemory() {
    const date = document.getElementById("date").value;
    const event = document.getElementById("event").value;
    const imageInput = document.getElementById("image");
    const image = imageInput.files[0];

    if (!date || !event || !image) {
      alert("Please fill all fields and add a photo!");
      return;
    }

    const reader = new FileReader();
    reader.onload = function () {
      const memory = {
        date,
        event,
        image: reader.result
      };

      let memories = JSON.parse(localStorage.getItem("memories")) || [];
      memories.push(memory);
      localStorage.setItem("memories", JSON.stringify(memories));
      displayMemories(); // Show updated list
    };
    reader.readAsDataURL(image);
    
    // Reset the form
    document.getElementById("date").value = '';
    document.getElementById("event").value = '';
    document.getElementById("image").value = '';
  }

  // Function to display all saved memories
  function displayMemories() {
    const container = document.getElementById("memory-list");
    container.innerHTML = "";
    const memories = JSON.parse(localStorage.getItem("memories")) || [];

    memories.forEach((memory, index) => {
      const div = document.createElement("div");
      div.style.border = "1px solid #ccc";
      div.style.padding = "1rem";
      div.style.marginBottom = "1rem";
      div.style.borderRadius = "10px";
      div.style.backgroundColor = "#fff";

      div.innerHTML = `
        <h3>${memory.date}</h3>
        <p>${memory.event}</p>
        <img src="${memory.image}" width="200" style="border-radius: 10px;"><br>
        <button onclick="deleteMemory(${index})" style="margin-top: 10px; background-color: #ff6f91; color: white; border: none; padding: 0.5rem 1rem; border-radius: 5px;">Delete</button>
      `;

      container.appendChild(div);
    });
  }

  // Function to delete a memory
  function deleteMemory(index) {
    let memories = JSON.parse(localStorage.getItem("memories")) || [];
    memories.splice(index, 1); // Remove memory by index
    localStorage.setItem("memories", JSON.stringify(memories));
    displayMemories(); // Refresh list
  }

  // Call displayMemories on page load
  window.onload = displayMemories;
</script>

  <footer style="text-align: center; padding: 1rem; background-color: #ffe0e6; color: #333; font-size: 0.9rem; margin-top: 2rem;">
  Created with ‚ù§Ô∏è by <strong>Krithik Narayan</strong><br>
  Student at VIT Vellore
</footer>

</body>
</html>
